pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
board={{}}
width=16
height=16
dead=0
alive=1
timer=30

function _init()
  init_board()
end

function _update()
  if(timer==0) then
    update_board()
    --reset timer
    timer=30
  end
  timer-=1
end

function _draw()
  draw_board()
end

function get(brd,x,y)
  --check edges
  if((x<1) or (x>width) or (y<1) or (y>height)) then
    return dead
  end
  return brd[x][y]
end

function init_board()
  for i=1,height do
    board[i]={}
    for j=1,width do
      board[i][j]=flr(rnd(2))
    end
  end
end

function draw_board()
  for i=1,height do
    for j=1,width do
      spr(board[i][j]+1,(i-1)*8,(j-1)*8)
    end
  end
end

function update_board()
  prev_board=board
  for x=1,height do
    for y=1,width do
      neighbors=(
        get(prev_board,x-1,y-1)+
        get(prev_board,x,y-1)+
        get(prev_board,x+1,y-1)+
        get(prev_board,x-1,y)+
        get(prev_board,x+1,y)+
        get(prev_board,x-1,y+1)+
        get(prev_board,x,y+1)+
        get(prev_board,x+1,y+1)
      )
      if((neighbors==3) or ((prev_board[x][y]==1) and neighbors==2)) then
        board[x][y]=alive
      else
        board[x][y]=dead
      end
    end
  end
end
__gfx__
00000000777777777777777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777777777771177700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700777777777711117700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000777777777111111700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000777777777111111700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700777777777711117700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777777777771177700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777777777777777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0001020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
